import{a as S}from"./chunk-5YRAG2Q4.js";import{a as b}from"./chunk-DFXQRXQG.js";import{a as I}from"./chunk-RYNRYX7J.js";import"./chunk-AESYL7IM.js";import{Ob as c,Tb as v,U as p,Wa as u,Xa as n,_ as m,da as l,ja as d,lb as h,nb as f,qc as g,tc as y,wb as s,xb as a}from"./chunk-J5KHPRBR.js";var j=(()=>{let t=class t{constructor(e){this.http=e}verify(e){return this.http.get(`https://bierrallye.meinhard.at/registration/verify?token=${e}`,{responseType:"text"})}};t.\u0275fac=function(r){return new(r||t)(l(I))},t.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function T(i,t){i&1&&(s(0,"div")(1,"p",1),c(2,"Prost! Ihr seid startklar!"),a()())}function w(i,t){i&1&&(s(0,"div")(1,"p",1),c(2,"Ohje! Das hat nicht geklappt."),a(),s(3,"p",2),c(4,"Bitte wende dich an office@bierrallye-irnfritz.at"),a()())}var O=(()=>{let t=class t{constructor(e,r,o){this.route=e,this.verificationService=r,this.toastr=o,this.successful=!1,this.loading=!0}ngOnInit(){this.route.queryParams.pipe(p(e=>{let r=e.token;return this.verificationService.verify(r)})).subscribe(e=>{this.loading=!1,this.successful=!0,this.toastr.success(e,"Erfolgreich")},e=>{this.loading=!1,e.status===400?this.toastr.warning(e.error,"Achtung"):this.toastr.error("Ein unbekannter Fehler ist aufgetreten","Fehler")})}};t.\u0275fac=function(r){return new(r||t)(n(S),n(j),n(b))},t.\u0275cmp=d({type:t,selectors:[["app-verification"]],standalone:!0,features:[v],decls:2,vars:2,consts:[[4,"ngIf"],[1,"header"],[1,"description"]],template:function(r,o){r&1&&h(0,T,3,0,"div",0)(1,w,5,0,"div",0),r&2&&(f("ngIf",o.successful&&!o.loading),u(),f("ngIf",!o.successful&&!o.loading))},dependencies:[y,g]});let i=t;return i})();export{O as VerificationComponent};
