import{a as m,o as h,p as d}from"./chunk-TRFRMNEX.js";import{F as j,a as I,b,ca as p,f as i,g as a,ia as n,nb as x,o as y,u,yc as v}from"./chunk-ZD2QRE7W.js";var w=(()=>{let r=class r{constructor(){this.onMessage=new y,this.initialize()}initialize(){this.channel=new BroadcastChannel("qr-login"),this.channel.onmessage=t=>this.onMessage.next(t.data)}ngOnDestroy(){this.channel?.close()}publish(t){this.channel?.postMessage(t)}receiverInitialized(){this.publish({type:"notifyReady"})}messagesOfType(t){return this.onMessage.pipe(j(s=>s.type===t))}};r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"});let o=r;return o})();var A=(()=>{var r,e;let t=class t{constructor(){a(this,r,n(h));a(this,e,n(m))}getEvaluations(){return i(this,e).get(i(this,r)+"evaluation")}};r=new WeakMap,e=new WeakMap,t.\u0275fac=function(c){return new(c||t)},t.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var $=(()=>{var r,e;let t=class t{constructor(){a(this,r,n(h));a(this,e,n(m))}getStations(){return i(this,e).get(i(this,r)+"penalty/stations")}getTeams(){return i(this,e).get(i(this,r)+"penalty/teams")}createPenalty(f){return i(this,e).post(i(this,r)+"penalty",f,{responseType:"text"})}};r=new WeakMap,e=new WeakMap,t.\u0275fac=function(c){return new(c||t)},t.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var K=(()=>{var r,e;let t=class t{constructor(){a(this,r,n(h));a(this,e,n(m))}create(f){return i(this,e).post(i(this,r)+"completion/team",f,{responseType:"text"})}get(f){return i(this,e).get(`${i(this,r)}track/team/${f}`)}};r=new WeakMap,e=new WeakMap,t.\u0275fac=function(c){return new(c||t)},t.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var _=(()=>{var r,e,t;let s=class s{constructor(){a(this,r,n(h)+"track/checkIn");a(this,e,n(m));a(this,t,n(d))}checkIn(c){return c!==i(this,r)?u(()=>"QR-Code nicht g\xFCltig!"):i(this,e).post(i(this,r),i(this,t).user.value?.uuid)}};r=new WeakMap,e=new WeakMap,t=new WeakMap,s.\u0275fac=function(g){return new(g||s)},s.\u0275prov=p({token:s,factory:s.\u0275fac,providedIn:"root"});let o=s;return o})();var at=(()=>{var r,e,t;let s=class s{constructor(){a(this,r,n(h)+"track/checkOut");a(this,e,n(m));a(this,t,n(d))}checkOut(c){return i(this,e).post(i(this,r),c)}validatedCheckOut(c){return c!==i(this,r)?u(()=>"QR-Code nicht g\xFCltig!"):this.checkOut(i(this,t).user.value?.uuid)}};r=new WeakMap,e=new WeakMap,t=new WeakMap,s.\u0275fac=function(g){return new(g||s)},s.\u0275prov=p({token:s,factory:s.\u0275fac,providedIn:"root"});let o=s;return o})();var k=(()=>{var r,e;let t=class t{constructor(){a(this,r,n(h));a(this,e,n(m))}getRegistrations(){return i(this,e).get(i(this,r)+"completion/registrations")}};r=new WeakMap,e=new WeakMap,t.\u0275fac=function(c){return new(c||t)},t.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var bt=(()=>{let r=class r{constructor(){this.onboardingService=n(k),this.registrations=x([]),this.filterOnboarded=x(!1),this.filteredRegistrations=v(()=>this.filterOnboarded()?this.registrations().filter(t=>!t.hasTeam):this.registrations())}loadRegistrations(){this.onboardingService.getRegistrations().subscribe(t=>{this.registrations.set(t)})}setHasTeam(t){this.registrations.update(s=>s.map(f=>f.uuid===t?b(I({},f),{hasTeam:!0}):f))}toggleFilterOnboarded(){this.filterOnboarded.set(!this.filterOnboarded())}};r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"});let o=r;return o})();export{A as a,$ as b,K as c,_ as d,at as e,k as f,w as g,bt as h};
